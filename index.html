<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tienda en L√≠nea Chela Gask</title>
  <style>
    /* ----------- RESET ----------- */
    * {margin:0; padding:0; box-sizing:border-box;}
    body {font-family: Arial, sans-serif; line-height:1.5; color:#333;}
    a {text-decoration:none; color:inherit;}
    img {max-width:100%; display:block;}

    /* ----------- HEADER ----------- */
    header {
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:10px 20px;
      background:#fff;
      border-bottom:1px solid #ddd;
      position:sticky; top:0; z-index:1000;
    }
    header img.logo {
      height:40px;
    }
    .header-icons {
      display:flex;
      gap:15px;
      align-items:center;
    }
    .icon-btn {
      background:none;
      border:none;
      font-size:22px;
      cursor:pointer;
    }

    /* ----------- DRAWER ----------- */
    .drawer {
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      display:none;
      z-index:2000;
    }
    .drawer.active {display:block;}
    .drawer .backdrop {
      position:absolute; inset:0;
      background:rgba(0,0,0,0.5);
    }
    .drawer .panel {
      position:absolute;
      top:0; left:0;
      width:250px; height:100%;
      background:#fff;
      padding:20px;
      box-shadow:2px 0 6px rgba(0,0,0,0.2);
    }
    .drawer nav a {
      display:block;
      padding:10px 0;
      border-bottom:1px solid #eee;
    }

    /* ----------- CARRUSEL ----------- */
    .carousel {
      position:relative;
      overflow:hidden;
      height:300px;
    }
    .carousel img {
      width:100%;
      height:300px;
      object-fit:cover;
    }
    .carousel .slides {
      display:flex;
      transition:transform 0.5s ease;
    }
    .carousel .controls {
      position:absolute;
      top:50%; left:0; right:0;
      display:flex; justify-content:space-between;
      transform:translateY(-50%);
    }
    .carousel button {
      background:rgba(0,0,0,0.5);
      color:#fff;
      border:none;
      padding:10px;
      cursor:pointer;
    }

    /* ----------- GRID DE PRODUCTOS ----------- */
    .grid {
      display:grid;
      gap:20px;
      padding:20px;
    }
    .card {
      border:1px solid #ddd;
      border-radius:8px;
      overflow:hidden;
      background:#fff;
      box-shadow:0 2px 4px rgba(0,0,0,0.1);
    }
    .card img {height:200px; object-fit:cover;}
    .card .info {padding:10px;}
    .card h3 {font-size:16px; margin-bottom:5px;}
    .card p {color:#555;}

    /* ----------- RESPONSIVE ----------- */
    @media(min-width:768px) {
      .grid {grid-template-columns:repeat(2,1fr);}
      .carousel {height:400px;}
      .carousel img {height:400px;}
    }
    @media(min-width:1024px) {
      .grid {grid-template-columns:repeat(4,1fr);}
      .carousel {height:500px;}
      .carousel img {height:500px;}
    }

    /* ----------- DETALLE PRODUCTO ----------- */
    #producto-detalle {padding:20px;}
    #producto-detalle img {border-radius:8px; margin-bottom:15px;}
    .tallas {margin:15px 0;}
    .tallas button {
      margin-right:10px; padding:8px 15px;
      border:1px solid #ddd; border-radius:5px;
      cursor:pointer;
    }
    .tallas button:disabled {
      background:#eee; cursor:not-allowed;
    }
    .acciones {margin-top:15px;}
    .acciones button {
      margin-right:10px;
      padding:10px 15px;
      border:none; border-radius:5px;
      cursor:pointer;
    }
    .btn-carrito {background:#28a745; color:#fff;}
    .btn-favorito {background:#ffc107; color:#000;}

    /* ----------- FOOTER ----------- */
    footer {
      margin-top:30px;
      padding:20px;
      text-align:center;
      background:#f4f4f4;
      border-top:1px solid #ddd;
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <button class="icon-btn" onclick="toggleDrawer(true)">‚ò∞</button>
    <img src="logochelagask.jpg" alt="Logo Chela Gask" class="logo">
    <div class="header-icons">
      <a href="#/favoritos">‚≠ê</a>
      <a href="#/carrito">üõí<span id="cart-count"></span></a>
    </div>
  </header>

  <!-- DRAWER -->
  <div id="drawer" class="drawer">
    <div class="backdrop" onclick="toggleDrawer(false)"></div>
    <aside class="panel">
      <header>
        <strong>Men√∫</strong>
        <button class="icon-btn" onclick="toggleDrawer(false)">‚úï</button>
      </header>
      <nav>
        <a href="#/" onclick="toggleDrawer(false)">Inicio</a>
        <a href="#/categoria/caballero" onclick="toggleDrawer(false)">Caballero</a>
        <a href="#/categoria/dama" onclick="toggleDrawer(false)">Dama</a>
        <a href="#/categoria/nino" onclick="toggleDrawer(false)">Ni√±@</a>
        <a href="#/categoria/accesorios" onclick="toggleDrawer(false)">Accesorios</a>
        <a href="#/categoria/ropones" onclick="toggleDrawer(false)">Ropones</a>
        <a href="#/categoria/bisuteria" onclick="toggleDrawer(false)">Bisuter√≠a</a>
        <a href="#/favoritos" onclick="toggleDrawer(false)">Favoritos</a>
        <a href="#/carrito" onclick="toggleDrawer(false)">Carrito</a>
      </nav>
    </aside>
  </div>

  <!-- MAIN CONTENT -->
  <main id="app">
    <!-- Carrusel -->
    <div class="carousel">
      <div class="slides" id="slides">
        <img src="https://via.placeholder.com/1200x500?text=Promo+1" alt="">
        <img src="https://via.placeholder.com/1200x500?text=Promo+2" alt="">
        <img src="https://via.placeholder.com/1200x500?text=Promo+3" alt="">
      </div>
      <div class="controls">
        <button onclick="prevSlide()">‚Äπ</button>
        <button onclick="nextSlide()">‚Ä∫</button>
      </div>
    </div>

    <!-- Grid de productos destacados -->
    <section>
      <h2 style="padding:20px 20px 0;">Art√≠culos Destacados</h2>
      <div class="grid" id="destacados"></div>
    </section>

    <!-- Promociones -->
    <section>
      <h2 style="padding:20px 20px 0;">Promociones</h2>
      <div class="grid" id="promociones"></div>
      <h2 style="padding:20px 20px 0;">M√°s Art√≠culos Destacados</h2>
      <div class="grid" id="destacados2"></div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer>
    <p>¬© 2024 Chela Gask - Todos los derechos reservados</p>
  </footer>

  <!-- SCRIPT -->
  <script>
    /* ----------- DRAWER ----------- */
    function toggleDrawer(open){
      document.getElementById("drawer").classList.toggle("active", open);
    }

    /* ----------- CARRUSEL ----------- */
    let currentSlide=0;
    const slides=document.getElementById("slides");
    function showSlide(index){
      const total=slides.children.length;
      currentSlide=(index+total)%total;
      slides.style.transform=`translateX(${-currentSlide*100}%)`;
    }
    function nextSlide(){showSlide(currentSlide+1);}
    function prevSlide(){showSlide(currentSlide-1);}
    setInterval(nextSlide,5000);

    /* ----------- DATOS DEMO (reemplazar con Google Sheets si quieres) ----------- */
    const productos=[
      {id:1,nombre:"Camisa Caballero",precio:350,img:"https://via.placeholder.com/400x400?text=Caballero+1",stock:{CH:3,M:2,G:0,EG:1}},
      {id:2,nombre:"Vestido Dama",precio:500,img:"https://via.placeholder.com/400x400?text=Dama+1",stock:{CH:0,M:2,G:2,EG:0}},
      {id:3,nombre:"Playera Ni√±o",precio:200,img:"https://via.placeholder.com/400x400?text=Ni√±o+1",stock:{CH:1,M:0,G:0,EG:0}},
      {id:4,nombre:"Collar Bisuter√≠a",precio:150,img:"https://via.placeholder.com/400x400?text=Bisuteria+1",stock:{CH:0,M:0,G:0,EG:0}}
    ];

    /* Renderizar productos destacados */
    function renderDestacados(){
      const cont=document.getElementById("destacados");
      cont.innerHTML="";
      productos.forEach(p=>{
        cont.innerHTML+=`
          <div class="card">
            <img src="${p.img}" alt="${p.nombre}">
            <div class="info">
              <h3>${p.nombre}</h3>
              <p>$${p.precio}</p>
              <a href="#/producto/${p.id}">Ver producto</a>
            </div>
          </div>`;
      });
      document.getElementById("destacados2").innerHTML=cont.innerHTML;
      document.getElementById("promociones").innerHTML=cont.innerHTML;
    }
    renderDestacados();

    /* ----------- ROUTER SIMPLE ----------- */
    window.addEventListener("hashchange",navegar);
    function navegar(){
      const hash=window.location.hash;
      const app=document.getElementById("app");
      if(hash.startsWith("#/producto/")){
        const id=parseInt(hash.split("/")[2]);
        const p=productos.find(x=>x.id===id);
        if(p){
          app.innerHTML=`
            <div id="producto-detalle">
              <h2>${p.nombre}</h2>
              <img src="${p.img}" alt="${p.nombre}">
              <p>Precio: $${p.precio}</p>
              <div class="tallas">
                <strong>Tallas:</strong><br>
                ${Object.keys(p.stock).map(t=>
                  `<button ${p.stock[t]<=0?"disabled":""} onclick="seleccionarTalla('${t}')">${t}</button>`
                ).join("")}
              </div>
              <div class="acciones">
                <button class="btn-carrito" onclick="agregarCarrito(${p.id})">Agregar al Carrito</button>
                <button class="btn-favorito" onclick="agregarFavorito(${p.id})">‚≠ê Favorito</button>
              </div>
            </div>
            <h3 style="padding:20px;">Tambi√©n te puede interesar:</h3>
            <div class="grid">${productos.filter(x=>x.id!==p.id).map(o=>
              `<div class="card"><img src="${o.img}"><div class="info"><h3>${o.nombre}</h3><p>$${o.precio}</p><a href="#/producto/${o.id}">Ver producto</a></div></div>`
            ).join("")}</div>
          `;
        }
      } else if(hash==="#/favoritos"){
        const favoritos=JSON.parse(localStorage.getItem("favoritos"))||[];
        app.innerHTML="<h2 style='padding:20px;'>Mis Favoritos</h2><div class='grid'>"+
          productos.filter(p=>favoritos.includes(p.id)).map(p=>
            `<div class="card"><img src="${p.img}"><div class="info"><h3>${p.nombre}</h3><p>$${p.precio}</p><a href="#/producto/${p.id}">Ver producto</a></div></div>`
          ).join("")+"</div>";
      } else {
        // home
        app.innerHTML=document.querySelector("main").innerHTML;
        renderDestacados();
      }
    }
    navegar();

    /* ----------- CARRITO Y FAVORITOS ----------- */
    let carrito=[];
    let tallaSeleccionada=null;
    function seleccionarTalla(t){tallaSeleccionada=t; alert("Seleccionaste talla: "+t);}
    function agregarCarrito(id){
      const p=productos.find(x=>x.id===id);
      if(!tallaSeleccionada){alert("Selecciona una talla"); return;}
      if(p.stock[tallaSeleccionada]>0){
        carrito.push({...p,talla:tallaSeleccionada});
        p.stock[tallaSeleccionada]--;
        alert("Agregado al carrito");
        document.getElementById("cart-count").innerText=carrito.length;
      } else {
        alert("No hay stock disponible en esa talla");
      }
    }
    function agregarFavorito(id){
      let favoritos=JSON.parse(localStorage.getItem("favoritos"))||[];
      if(!favoritos.includes(id)){favoritos.push(id); localStorage.setItem("favoritos",JSON.stringify(favoritos)); alert("Agregado a favoritos");}
      else alert("Ya est√° en favoritos");
    }
  </script>
</body>
</html>
